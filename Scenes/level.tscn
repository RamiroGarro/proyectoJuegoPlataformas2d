[gd_scene load_steps=30 format=3 uid="uid://bo3gf5t4fkvnj"]

[ext_resource type="Script" path="res://Assets/Scripts/level.gd" id="1_retlb"]
[ext_resource type="PackedScene" uid="uid://iohi0not48gn" path="res://Scenes/gui.tscn" id="2_i76wb"]
[ext_resource type="PackedScene" uid="uid://dnlke3jvpafip" path="res://Scenes/player.tscn" id="2_puuj0"]
[ext_resource type="Texture2D" uid="uid://dcwdi2w30hock" path="res://Assets/Enviroment/Level1/Background/layer_1.png" id="2_qyhaq"]
[ext_resource type="PackedScene" uid="uid://bmr1o1lu6l3xn" path="res://Scenes/camera.tscn" id="2_us7au"]
[ext_resource type="Texture2D" uid="uid://b1j7nmo6kmud" path="res://Assets/Enviroment/Level1/Background/layer_2.png" id="3_5p2oj"]
[ext_resource type="Texture2D" uid="uid://b7kgh3si26bhg" path="res://Assets/Enviroment/Level1/Background/layer_3.png" id="4_gt5la"]
[ext_resource type="Texture2D" uid="uid://dywjekwn3whvr" path="res://Assets/Enviroment/Level1/Foreground/demcastle2d.png" id="5_8qo5v"]
[ext_resource type="AudioStream" uid="uid://b5ct14bak8ikr" path="res://Assets/Audio/night_theme_1.wav" id="6_emwqh"]
[ext_resource type="PackedScene" uid="uid://beaxcyxvibmni" path="res://Scenes/spike.tscn" id="9_b6jji"]
[ext_resource type="PackedScene" uid="uid://b77qmd5gxw4id" path="res://Scenes/bomb.tscn" id="9_r7ofi"]

[sub_resource type="TileMapPattern" id="TileMapPattern_f0lmh"]
tile_data = PackedInt32Array(0, 0, 6, 65536, 0, 7, 131072, 0, 8, 196608, 0, 9, 1, 65536, 6, 65537, 65536, 7, 131073, 65536, 8, 196609, 65536, 9)

[sub_resource type="TileMapPattern" id="TileMapPattern_vfm31"]
tile_data = PackedInt32Array(0, 131072, 0, 1, 131072, 0, 2, 131072, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_7g8ib"]
tile_data = PackedInt32Array(0, 131072, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_ackin"]
tile_data = PackedInt32Array(131072, 1376256, 2, 1, 1441792, 0, 65537, 1441792, 1, 131073, 1441792, 2, 2, 1507328, 0, 65538, 1507328, 1, 131074, 1507328, 2, 131075, 1572864, 2)

[sub_resource type="TileMapPattern" id="TileMapPattern_adgmu"]
tile_data = PackedInt32Array(0, 131072, 0, 1, 131072, 0, 2, 131072, 0, 3, 131072, 0, 4, 131072, 0, 5, 131072, 0, 6, 131072, 0, 7, 131072, 0, 8, 131072, 0, 9, 131072, 0, 10, 131072, 0, 11, 131072, 0, 12, 131072, 0, 13, 131072, 0, 14, 131072, 0, 15, 131072, 0, 16, 131072, 0, 17, 131072, 0, 18, 131072, 0, 19, 131072, 0, 20, 131072, 0, 21, 131072, 0, 22, 131072, 0, 23, 131072, 0, 24, 131072, 0)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_b1ocs"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_kminv"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3eq6s"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_gcna4"]
vertices = PackedVector2Array(8, 8, -8, 8, -3, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3.25, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_502qo"]
vertices = PackedVector2Array(8, 8, -1, 8, -1, -1, 8, -1)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-0.875, -1, 8, -0.875, 8, 8, -0.875, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_xigt4"]
vertices = PackedVector2Array(8, 8, -8, 8, -3, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3.25, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_y5b7u"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_q6ja0"]
vertices = PackedVector2Array(-1, 0, 0, 8, -8, 8, -8, -1)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -0.5, -0.5, -0.375, -0.375, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4w84b"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 4, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 3.875, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3uwyb"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 1, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 1.125, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_bx5hw"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gqe2d"]
texture = ExtResource("5_8qo5v")
0:9/0 = 0
0:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:9/0/physics_layer_0/angular_velocity = 0.0
0:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.875, -8, 8, -8, 8, 8, -8, 8)
0:9/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
1:9/0 = 0
1:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:9/0/physics_layer_0/angular_velocity = 0.0
1:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 5.125, -8, 8, 8, -8, 8)
1:9/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
1:8/0 = 0
1:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:8/0/physics_layer_0/angular_velocity = 0.0
1:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 5.125, -8, 4.875, 8, -8, 8)
1:8/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
1:7/0 = 0
1:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:7/0/physics_layer_0/angular_velocity = 0.0
1:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 5.125, -8, 4.875, 8, -8, 8)
1:7/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
1:6/0 = 0
1:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:6/0/physics_layer_0/angular_velocity = 0.0
1:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 5, 8, -8, 8)
1:6/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
0:6/0 = 0
0:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:6/0/physics_layer_0/angular_velocity = 0.0
0:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -4.75, 8)
0:6/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
0:7/0 = 0
0:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:7/0/physics_layer_0/angular_velocity = 0.0
0:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.875, -8, 8, -8, 8, 8, -4, 8)
0:7/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
0:8/0 = 0
0:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:8/0/physics_layer_0/angular_velocity = 0.0
0:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.875, -8, 8, -8, 8, 8, -4, 8)
0:8/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kminv")
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_bx5hw")
21:2/0 = 0
21:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
21:2/0/physics_layer_0/angular_velocity = 0.0
21:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-0.75, -8, 8, -8, 8, 8, -8, 8, -2.25, 4.875, -1.5, -1.125)
21:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_gcna4")
22:2/0 = 0
22:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
22:2/0/physics_layer_0/angular_velocity = 0.0
22:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
22:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_y5b7u")
23:2/0 = 0
23:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:2/0/physics_layer_0/angular_velocity = 0.0
23:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_y5b7u")
24:2/0 = 0
24:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
24:2/0/physics_layer_0/angular_velocity = 0.0
24:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 1.875, -8, 1.5, -1.625, 2, 4.625, 8, 8, -8, 8)
24:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_3uwyb")
23:1/0 = 0
23:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:1/0/physics_layer_0/angular_velocity = 0.0
23:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 3.5, -8, 4.875, -1.75, 8, 8, -8, 8)
23:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_4w84b")
23:0/0 = 0
23:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:0/0/physics_layer_0/angular_velocity = 0.0
23:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -0.25, -0.25, -0.75, 0, 4.375, 0, 8, -8, 8)
23:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_q6ja0")
22:0/0 = 0
22:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
22:0/0/physics_layer_0/angular_velocity = 0.0
22:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-0.75, -0.625, 8, -0.625, 8, 8, -0.875, 8)
22:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_502qo")
22:1/0 = 0
22:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
22:1/0/physics_layer_0/angular_velocity = 0.0
22:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.5, -8, 8, -8, 8, 8, -8, 8, -8, 0.875)
22:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_xigt4")
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_3eq6s")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_b1ocs")

[sub_resource type="TileSet" id="TileSet_r7361"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
navigation_layer_0/layers = 2
sources/0 = SubResource("TileSetAtlasSource_gqe2d")
pattern_0 = SubResource("TileMapPattern_f0lmh")
pattern_1 = SubResource("TileMapPattern_vfm31")
pattern_2 = SubResource("TileMapPattern_7g8ib")
pattern_3 = SubResource("TileMapPattern_ackin")
pattern_4 = SubResource("TileMapPattern_adgmu")

[node name="Level" type="Node2D"]
script = ExtResource("1_retlb")

[node name="GUI" parent="." instance=ExtResource("2_i76wb")]

[node name="Camera" parent="." node_paths=PackedStringArray("player") instance=ExtResource("2_us7au")]
position = Vector2(102, 156)
offset = Vector2(0, -40)
player = NodePath("../Player")

[node name="Player" parent="." node_paths=PackedStringArray("gui") instance=ExtResource("2_puuj0")]
position = Vector2(100, 137)
gui = NodePath("../GUI")

[node name="Background" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Background"]
light_mask = 0
visibility_layer = 4
motion_scale = Vector2(0.1, 0)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxLayer"]
texture = ExtResource("2_qyhaq")
centered = false

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Background"]
light_mask = 0
visibility_layer = 4
motion_scale = Vector2(0.2, 0)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxLayer2"]
position = Vector2(0, 49)
texture = ExtResource("3_5p2oj")
centered = false

[node name="ParallaxLayer3" type="ParallaxLayer" parent="Background"]
light_mask = 0
visibility_layer = 4
motion_scale = Vector2(0.3, 0)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxLayer3"]
position = Vector2(0, 150)
texture = ExtResource("4_gt5la")
centered = false

[node name="TileMap" type="TileMap" parent="."]
light_mask = 0
visibility_layer = 4
tile_set = SubResource("TileSet_r7361")
format = 2
layer_0/name = "Capa 0"
layer_0/tile_data = PackedInt32Array(655376, 1376256, 2, 524305, 1441792, 0, 589841, 1441792, 1, 655377, 1441792, 2, 524306, 1507328, 0, 589842, 1507328, 1, 655378, 1507328, 2, 655379, 1572864, 2, 720896, 131072, 0, 720897, 131072, 0, 720898, 131072, 0, 720899, 0, 0, 720900, 0, 0, 720901, 65536, 0, 720902, 0, 0, 720903, 0, 0, 720904, 131072, 0, 720905, 131072, 0, 720906, 131072, 0, 720907, 131072, 0, 720908, 131072, 0, 720909, 131072, 0, 720910, 131072, 0, 720911, 131072, 0, 720912, 65536, 0, 720913, 0, 0, 720914, 65536, 0, 720915, 131072, 0, 720916, 131072, 0, 720917, 65536, 0, 720918, 65536, 0, 720919, 65536, 0, 720920, 131072, 0, 786432, 0, 0, 786433, 0, 0, 786434, 131072, 0, 786435, 131072, 0, 786436, 65536, 0, 786437, 131072, 0, 786438, 65536, 0, 786439, 0, 0, 786440, 131072, 0, 786441, 131072, 0, 786442, 131072, 0, 786443, 0, 0, 786444, 65536, 0, 786445, 131072, 0, 786446, 65536, 0, 786447, 0, 0, 786448, 0, 0, 786449, 65536, 0, 786450, 0, 0, 786451, 0, 0, 786452, 131072, 0, 786453, 65536, 0, 786454, 65536, 0, 786455, 65536, 0, 786456, 65536, 0, 786431, 131072, 0, 851967, 0, 0, 786430, 65536, 0, 851966, 0, 0, 786429, 65536, 0, 851965, 0, 0, 786428, 0, 0, 851964, 65536, 0, 786427, 131072, 0, 851963, 131072, 0, 786426, 0, 0, 851962, 65536, 0, 786425, 0, 0, 851961, 131072, 0, 786424, 65536, 0, 851960, 0, 0, 720921, 0, 0, 720922, 65536, 0, 720923, 131072, 0, 720924, 131072, 0, 720925, 131072, 0, 720926, 131072, 0, 720927, 65536, 0, 720928, 131072, 0, 720929, 0, 0, 786465, 131072, 0, 786464, 131072, 0, 786463, 131072, 0, 786462, 0, 0, 786461, 65536, 0, 786460, 131072, 0, 786459, 0, 0, 786458, 65536, 0, 786457, 0, 0, 786423, 65536, 0, 786422, 65536, 0, 786421, 65536, 0, 786420, 0, 0, 786419, 131072, 0, 786418, 65536, 0, 851954, 0, 0, 851955, 65536, 0, 851956, 0, 0, 851957, 0, 0, 851958, 65536, 0, 851959, 131072, 0)
layer_1/name = "Capa 1"
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array(458775, 0, 6, 524311, 0, 7, 589847, 0, 8, 655383, 0, 9, 458776, 65536, 6, 524312, 65536, 7, 589848, 65536, 8, 655384, 65536, 9, 196631, 0, 6, 262167, 0, 7, 327703, 0, 8, 393239, 0, 9, 196632, 65536, 6, 262168, 65536, 7, 327704, 65536, 8, 393240, 65536, 9, -65513, 0, 6, 23, 0, 7, 65559, 0, 8, 131095, 0, 9, -65512, 65536, 6, 24, 65536, 7, 65560, 65536, 8, 131096, 65536, 9, 196608, 0, 6, 262144, 0, 7, 327680, 0, 8, 393216, 0, 9, 196609, 65536, 6, 262145, 65536, 7, 327681, 65536, 8, 393217, 65536, 9, -65536, 0, 6, 0, 0, 7, 65536, 0, 8, 131072, 0, 9, -65535, 65536, 6, 1, 65536, 7, 65537, 65536, 8, 131073, 65536, 9, 458752, 0, 6, 524288, 0, 7, 589824, 0, 8, 655360, 0, 9, 458753, 65536, 6, 524289, 65536, 7, 589825, 65536, 8, 655361, 65536, 9)

[node name="Traps" type="Node" parent="."]

[node name="Bomb" parent="Traps" instance=ExtResource("9_r7ofi")]
position = Vector2(44, 168)
scale = Vector2(0.8, 0.8)

[node name="Bomb2" parent="Traps" instance=ExtResource("9_r7ofi")]
position = Vector2(348, 169)
scale = Vector2(0.64, 0.64)

[node name="Spike" parent="Traps" instance=ExtResource("9_b6jji")]
position = Vector2(226, 176)

[node name="Audio" type="Node" parent="."]

[node name="Background" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("6_emwqh")

[connection signal="finished" from="Audio/Background" to="." method="_on_background_finished"]
